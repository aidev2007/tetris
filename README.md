# ブラウザ版テトリス

SEGAアーケード版テトリスを忠実に再現したブラウザ版テトリスゲームです。
HTML5 Canvasを使用して作成されており、懐かしのアーケード体験をブラウザで楽しめます。

## 🎯 作成秘話

作者が子どもの頃にSEGAのアーケード版テトリスにハマり、その懐かしさのあまり作成しました。
若い頃にも作成にチャレンジしましたが満足のいくものが作れず、今回はそのリベンジとして開発。
特に「床に接地してから弾むように回転する仕様」を実現したかったという思いから生まれました。

## 🎮 特徴

- **SEGAアーケード版の忠実な再現**: ピースの色配置やゲーム性を再現
- **弾む回転システム**: 床や壁に接触時の壁キック機能
- **多段階ピース固定**: 着地後の操作猶予時間システム
- **音声エフェクト**: ゲーム進行に合わせた効果音
- **レスポンシブ対応**: 画面サイズに応じた自動調整
- **カスタムレベル**: URLパラメータでの開始レベル設定

## 🎯 ゲームルール

### 基本ルール
- 上から落ちてくる7種類のテトリミノ（I, O, T, L, J, S, Z）を操作
- 横一列を完成させると消去され、上のブロックが下に落ちる
- ブロックが天井に到達するとゲームオーバー

### ピース固定システム
1. **着地判定**: ピースが床や他のブロックに接触
2. **操作可能1**: 500ms間の操作猶予（移動・回転可能）
3. **操作可能2**: 操作があった場合、さらに200ms延長
4. **操作不可**: 300ms間の完全固定状態後にピース確定

### 特殊操作
- **新ピース時の3マス移動**: 新しいピースが出現時に←→を押していると、3マス分移動
- **ソフトドロップ即固定**: ↓キーを押したまま着地すると即座に固定
- **上方回転**: 回転時に上に移動した場合、次の自然落下まで再固定を防止

## 🎮 操作方法

| キー | 機能 |
|------|------|
| **Enter** | ゲーム開始 |
| **←** **→** | 左右移動 |
| **↑** または **スペース** | 回転（反時計回りのみ） |
| **↓** | 高速落下（ソフトドロップ） |
| **S** | 一時停止/再開 |
| **F3** | 画面サイズ変更 |

## 🚀 使用方法

### 基本的な起動
```
index.html をブラウザで開く
```

### カスタムレベル設定
URLパラメータで開始レベルを指定可能：
```
index.html?level=5
```
- 指定可能範囲: 1-99
- 無効な値の場合はレベル1からスタート

## 📁 ファイル構成

```
tetris/
├── index.html          # メインゲームファイル
├── README.md          # このファイル
└── sound/             # 音声ファイル（オプション）
    ├── start.mp3
    ├── landing.mp3
    ├── rotate.mp3
    ├── levelup.mp3
    ├── clearingLines.mp3
    ├── clearingLinesEnd.mp3
    ├── pause.mp3
    ├── unpause.mp3
    └── gameOver.mp3
```

## 🎵 音声ファイルについて

音声ファイルは必須ではありませんが、よりアーケード感のあるゲーム体験のために推奨されます。
音声ファイルが存在しない場合でも、ゲームは正常に動作します。

## 🎨 SEGAアーケード版への忠実さ

### ピース色配置
- I字: 赤
- O字: 黄色  
- T字: シアン
- L字: オレンジ
- J字: 青
- S字: ライム
- Z字: フューシャ

### 弾む回転
床や壁に接触時も、可能な限り回転を成功させる壁キック機能を搭載。
8方向のキック位置（左、右、上、下、左上、右上、左下、右下）を試行し、SEGAアーケード版の「弾む」回転感を再現。

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

**懐かしのアーケード体験をブラウザで！** 🎮