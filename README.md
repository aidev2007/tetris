# ブラウザ版テトリス

シンプルで本格的なブラウザ版テトリスゲームです。
HTML5 Canvas を使用して作成されており、音声エフェクトや多段階のピース固定システムなど、リアルなテトリス体験を提供します。

## 🎮 特徴

- **本格的なテトリス仕様**: 7種類のテトリミノ（I, O, T, L, J, S, Z）
- **SEGA風壁キック**: 回転時の弾む壁キック機能
- **多段階ピース固定**: 着地後の操作可能時間とロック遅延
- **音声エフェクト**: ゲーム進行に合わせた効果音
- **レスポンシブ対応**: 画面サイズに応じた自動調整
- **カスタムレベル**: URLパラメータでの開始レベル設定

## 🎯 ゲームルール

### 基本ルール
- 上から落ちてくるテトリミノを操作して、横一列を完成させる
- 完成した列は消去され、上のブロックが下に落ちる
- 4列同時に消去（テトリス）でより高得点
- ブロックが天井に到達するとゲームオーバー

### スコアシステム
- **ライン消去**: 消去ライン数の2乗 × 100点
- **ソフトドロップ**: 1マス下降につき1点
- **パーフェクトクリア**: 全消去で5000点ボーナス

### レベルシステム
- レベル = (消去ライン数 ÷ 4) + 開始レベル
- 最大レベル: 99
- レベルが上がるほど落下速度が増加

## 🎮 操作方法

### 基本操作
| キー | 機能 |
|------|------|
| **Enter** | ゲーム開始 |
| **←** **→** | 左右移動 |
| **↑** または **スペース** | 回転 |
| **↓** | 高速落下（ソフトドロップ） |
| **S** | 一時停止/再開 |
| **F3** | 画面サイズ変更 |

### 特殊機能
- **新ピース時の3マス移動**: 新しいピースが出現時に←→を押していると、3マス分移動
- **ソフトドロップ即固定**: ↓キーを押したまま着地すると即座に固定
- **上方回転**: 回転時に上に移動した場合、次の自然落下まで再固定を防止

## 🔧 技術仕様

### ピース固定システム
1. **着地判定**: ピースが床や他のブロックに接触
2. **操作可能1**: 500ms間の操作猶予
3. **操作可能2**: 操作があった場合、さらに200ms延長
4. **操作不可**: 300ms間の完全固定状態

### 音声エフェクト
- ゲーム開始音
- ピース着地音
- 回転音
- ライン消去音（開始・終了）
- レベルアップ音
- ポーズ音
- ゲームオーバー音

### 画面サイズ
- 自動調整: ビューポート高さに応じて自動選択
- 手動切替: F3キーで5段階のサイズ変更可能
- 倍率: 1.0x, 1.25x, 1.5x, 1.75x, 2.0x

## 🚀 使用方法

### 基本的な起動
```
index.html をブラウザで開く
```

### カスタムレベル設定
URLパラメータで開始レベルを指定可能：
```
index.html?level=5
```
- 指定可能範囲: 1-99
- 無効な値の場合はレベル1からスタート

## 📁 ファイル構成

```
tetris/
├── index.html          # メインゲームファイル
├── README.md          # このファイル
└── sound/             # 音声ファイル（オプション）
    ├── start.mp3
    ├── landing.mp3
    ├── rotate.mp3
    ├── levelup.mp3
    ├── clearingLines.mp3
    ├── clearingLinesEnd.mp3
    ├── pause.mp3
    ├── unpause.mp3
    └── gameOver.mp3
```

## 🎵 音声ファイルについて

音声ファイルは必須ではありませんが、より臨場感のあるゲーム体験のために推奨されます。
音声ファイルが存在しない場合でも、ゲームは正常に動作します。

### 推奨音声形式
- フォーマット: MP3
- 時間: 1-3秒程度
- 音量: 統一されたレベル

## 🌐 ブラウザ対応

### 対応ブラウザ
- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

### 必要な機能
- HTML5 Canvas
- Web Audio API
- ES6+ JavaScript

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 コントリビューション

バグ報告や機能提案は、GitHubのIssuesでお願いします。
プルリクエストも歓迎します。

## 🎲 今後の予定

- [ ] ハードドロップ機能
- [ ] ホールド機能
- [ ] 統計情報表示
- [ ] ローカルハイスコア
- [ ] タッチ操作対応

---

**楽しいテトリスライフを！** 🎮